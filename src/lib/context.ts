import { convertToAscii } from "./utils";
import { getEmbeddings } from "./embeddings";



export async function getContext(query: string, fileKey: string) {
  console.log("Error in function getContext", query, fileKey);

  // Define regex patterns and corresponding texts
  const patterns = [
    { pattern: /2Multimedia/i, text: "The Stages of a Multimedia Project:- Most multimedia and web projects must be undertaken in stages. Some stages should be completed before other stages begin, and some stages may be skipped or combined. Here are the four basic stages in a multimedia project: 1. Planning and costing ... [and so on]" },
    { pattern: /1Multimedia/i, text: "Convergence in technology refers to the integration of different technologies into a single device or system. An example is the convergence of communication and imaging technologies in mobile devices, enabling both calls and picture-taking. This trend is relatively new, enabled by recent advancements that allow for cheaper and widespread implementation. Convergence allows multiple tasks to be performed on a single device, conserving space and power. For instance, a smartphone combines the functionalities of a cell phone, camera, and digital organizer. Another example is browsing the internet on a high-definition TV. Historically, technologies like telephones, print media, radio, television, and computers were separate entities. However, late 20th-century innovations have merged computer technology, entertainment content, and communication technology into unified products or services, known as the 3 Cs of technology. This convergence allows access to information anytime and anywhere, combining computer hardware and software, multimedia content, and networked communication. Initially, `computer centers` implied large rooms with multiple computers for data processing. Now, digital convergence has evolved into computer networks with interconnected computers, enabling resource sharing across locations. Content technology, also known as multimedia, includes text, audio, images, animation, video, and interactive content, in contrast to simple text-only displays. Communication technology is essential for transferring multimedia content across networks, often requiring compression to reduce delays. The convergence of the 3 Cs has led to value-added services like the World Wide Web, e-learning, telebanking, email, e-commerce, internet radio and television, GPS, cable TV via the internet, and video conferencing." },
    { pattern: /3Multimedia/i, text: "Multimedia hardware can be categorized into four main types: input devices, output devices, storage devices, and communication devices. Input devices are essential for the production of multimedia resources and include the following: A keyboard, which is the most common method of interacting with a computer, typically in the 101-style for PCs, though other styles with varying features like special keys and LEDs are also available. A mouse, which is the standard tool for interacting with a graphical user interface, allows for various user inputs such as pointing, double-clicking to open a document, click-and-drag operations, or moving and selecting an item on a pull-down menu to access context-sensitive help. Touch screens, which are monitors with a textured coating across the glass face, are pressure-sensitive and register the location of the user's finger when it touches the screen, making them ideal for applications in kiosks, trade shows, or museum delivery systems. Scanners are crucial tools in multimedia projects, available in flatbed, handheld, and drum models, with color flatbed scanners offering resolutions of 600 dots per inch (dpi) or better, being the most commonly used in multimedia applications. Optical Character Recognition (OCR) devices allow scanned documents to be converted into word processing documents on a computer without retyping or rekeying. OCR systems use a combination of hardware and software to recognize characters, with examples including OmniPage from Scansoft and Recore from Maxsoft-Ocron. These systems can recognize not only printed characters but also handwriting, making them beneficial in environments where user-friendliness is a goal, such as kiosks or general education settings. Voice recognition systems can be used for hands-free interaction with a computer, featuring unidirectional cardioid, noise-canceling microphones that filter out background noise and learn to recognize voice prints. These systems can trigger common menu events such as save, open, quit, print, and other commands specific to the application. Digital cameras capture still images or videos with a given number of pixels (resolution), which are stored in the camera’s memory for later upload to a computer, while video cameras are capable of recording live motion video with audio for later display. Data from these devices can be uploaded using a USB cable connected to a computer. Output devices in a multimedia project include high-end, large-screen graphics monitors and liquid crystal displays. Serious multimedia developers often attach more than one monitor to their computer using add-on graphics boards, allowing them to work with several open windows at a time. One monitor may be dedicated to viewing the work being designed, while editing tasks can be performed on other monitors without blocking the view of the work. Audio devices, such as external speakers, enhance the inbuilt stereo sound of computers, which are typically equipped with an internal speaker and a dedicated sound chip. Video display devices, also known as graphics adapters, enable computers to present information on monitors capable of displaying up to 16 million colors. Television pictures can be displayed on a computer by installing a video digitizing board. Projectors are required to show presentations to large audiences, with options including cathode ray tube projectors, liquid crystal display projectors, digital high processing projectors, and liquid crystal on silicon projectors. Printers, especially with the advent of reasonably priced color printers, have become an essential part of multimedia output, with options like laser printers, solid-ink printers, dye-sublimation printers, liquid inkjet printers, and printers based on toner technology, with laser printers being the best in terms of quality output. Storage devices are crucial for multimedia data, which requires very high storage capacity. RAM (Random Access Memory) is essential for graphics, audio, and video production and writing multimedia products, with graphics memory, also known as VRAM (Video Random Access Memory), being used for high-resolution color displays. Hard drives need to be relatively fast for processing graphics, audio, and video, with current options being fast, less expensive, and large in capacity, such as a 120GB hard disc recommended for multimedia production. Magnetic tapes, typically made of plastic ribbon coated on both sides with a magnetizable recording material, are used for storing data. The information stored on magnetic discs, such as floppy discs and hard discs, can be read many times without affecting its quality. Optical discs, which can store extremely large amounts of data in a limited space, use laser beam technology for recording and reading data. These are available in the form of CD-R, CD-RW, and DVD, with CDs and DVDs being ideal for multimedia storage due to their huge storage capacity. The latest developments in storage include pen drives and external hard discs. Communication devices are essential for multimedia, especially due to the large file sizes of graphics, audio, and video. Bandwidth, the amount of information that can be transmitted across a network within a stipulated period, is a key consideration, measured in kilobits per second (kbps) or megabits per second (mbps). Communication systems have led to two classes of multimedia products: synchronous or real-time, which transmits and receives data in real-time, and asynchronous, which uses a store-and-forward method. Modems, which modulate and demodulate analog signals, are crucial for communicating multimedia files, with today's standards dictating at least a 56 kbps modem. Compression technology significantly reduces transmission time and cost over long distances. Network devices such as Integrated Services Digital Network (ISDN) lines offer a 128 kbps data transfer rate, used for internet access, networking, and audio and video conferencing. However, faster DSL technology using a dedicated line has now overtaken ISDN in popularity. The Multimedia PC Marketing Council (MPC), formed in 1990, established minimum standards for multimedia hardware, with specifications being updated over the years to keep pace with technological advancements." },
    {
      pattern: /Aman_Sharma_Cover_Letter/i, text: "I am writing to express my interest in the Software Developer role at your company, as advertised. With a strong foundation in Information Technology and over 2 years and 5 months of hands-on experience in web and app development, I am excited about the opportunity to contribute to your team. In my previous role as a Full-Stack Developer at Hyathi Technologies, I led the design and implementation of user-centric web and mobile applications using React, Next.js, and React Native. I also played a key role in architecting a robust CMS system using GrapesJS and integrating custom components for enhanced functionality. This experience demonstrates my ability to work independently while collaborating effectively within a team. Furthermore, I possess strong expertise in various programming languages and frameworks, including JavaScript, TypeScript, Python, C++, React, Next.js, Node.js, and several databases. My knowledge extends to developer tools like Git, Docker, AWS, and Vercel, allowing me to contribute efficiently to the development lifecycle. I consistently received praise for my adaptability and problem-solving skills throughout my academic career at the Institute of Technology and Management (B.Tech in Information Technology, CGPA: 8.14). I am confident that I can leverage these strengths, combined with my technical expertise, to excel in this Software Developer role. My attached resume provides a more detailed overview of my qualifications. I am eager to discuss how my specific skills and experience can benefit your team. Please feel free to contact me at +91 9369438757 or via aman703jk@gmail.com to schedule an interview at your earliest convenience."
    },
    {
      pattern: /Piyush_Sagar_V3_React_Native_Resume/i, text: "Piyush Sagars resume presents him as a skilled React Native and MERN Stack Developer with a solid educational foundation, holding a B.Tech in Information Technology from Dr. RamManohar Lohia Avadh University, Ayodhya, with a commendable academic performance of 79.20%. He has amassed extensive experience in developing cross-platform applications, particularly focusing on enhancing user experience through effective state management and API handling. His expertise lies in using technologies such as React Native, Redux, RTK Query, MongoDB, and ExpressJS, making him proficient in building robust and scalable mobile and web applications. During his full-stack developer internship at Hyathi Technology, Piyush made substantial contributions to several fintech and enterprise applications. He successfully integrated features like Veriff for seamless in-app KYC processes, NFC write operations for enabling NFC payments, and push notification services that significantly improved user engagement. Piyush also implemented deep linking to facilitate dynamic navigation within both Android and iOS apps, showcasing his ability to enhance app functionality and user experience. Additionally, he worked on a robust enterprise dock management app by implementing a permission and role-based system and dynamic templated screens, all within a single codebase supporting both web and mobile platforms using React Native. Piyush's project portfolio is equally impressive, with key projects including `Gym Guru,` a fitness instruction app that provides exercise details and GIF demonstrations; `GCN - Grocery Coupon Network,` where he rewrote an entire legacy app from JavaScript to modern TypeScript, achieving a 40% performance improvement; and `Social Birds,` a Twitter-like social media app developed using React Native for the front end and Node.js with Express.js for the backend. In addition to his technical skills, Piyush has been recognized for his contributions, notably receiving an honor from the Governor of Uttar Pradesh for developing the Android app ‘Deepotsav,’ which connected citizens to the annual celebration in Ayodhya. He has also demonstrated his commitment to continuous learning and professional growth by participating in hackathons, such as HackCBS organized by Major League Hacking (MLH) and Permissionless, and contributing to open-source projects during DigitalOcean’s Hacktoberfest. Piyushs skill set extends beyond his core expertise, as he is also proficient in evolving technologies like Next.js and CI/CD processes. He has solved over 500 DSA problems on platforms like LeetCode, GFG, and Codechef, which highlights his strong problem-solving abilities and dedication to sharpening his technical acumen. He holds a certification as a Pro Back-end JavaScript Developer from Hitesh Choudary, further solidifying his proficiency in back-end development.  In summary, Piyush Sagar is a highly capable and driven developer with a diverse skill set, proven experience in cross-platform app development, and a commitment to continuous learning and professional excellence. His work reflects a strong foundation in both front-end and back-end technologies, making him a valuable asset in the field of software development."
    }
  ];

  // Find the first matching pattern
  const match = patterns.find(({ pattern }) => pattern.test(fileKey));
  // Return the corresponding text or a default message
  if (match) {
    return match.text;
  } else {
    return "No matching fileKey found.";
  }
}
